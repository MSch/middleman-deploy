{"name":"Middleman Deploy","tagline":"Deploy a middleman built site over rsync, ftp, or git (e.g. gh-pages on github).","body":"Middleman Deploy - Deploy a [middleman](http://middlemanapp.com/)\r\nbuilt site over rsync, ftp, sftp, or git (e.g. gh-pages on github).\r\n\r\n[![Build Status](https://secure.travis-ci.org/tvaughan/middleman-deploy.png)](http://travis-ci.org/tvaughan/middleman-deploy)\r\n\r\n# QUICK START\r\n\r\n## Step 1\r\n\r\n    middleman init example-site\r\n    cd example-site\r\n\r\n## Step 2\r\n\r\nEdit `Gemfile`, and add:\r\n\r\n    gem \"middleman-deploy\", \">= 0.1.0\"\r\n\r\nThen run:\r\n\r\n    bundle install\r\n\r\n## Step 3a - Rsync setup\r\n\r\nFirst be sure that `rsync` is installed.\r\n\r\n**These settings are required.**\r\n\r\nEdit `config.rb`, and add:\r\n\r\n    activate :deploy do |deploy|\r\n      deploy.method = :rsync\r\n      deploy.user = \"tvaughan\"\r\n      deploy.host = \"www.example.com\"\r\n      deploy.path = \"/srv/www/site\"\r\n    end\r\n\r\nAdjust these values accordingly.\r\n\r\n**These settings are optional.**\r\n\r\nTo use a particular SSH port, add:\r\n\r\n      deploy.port = 5309\r\n\r\nDefault is `22`.\r\n\r\nTo remove orphaned files or directories on the remote host, add:\r\n\r\n      deploy.clean = true\r\n\r\nDefault is `false`.\r\n\r\n## Step 3b - Git setup\r\n\r\nFirst be sure that `git` is installed.\r\n\r\n**These settings are required.**\r\n\r\nEdit `config.rb`, and add:\r\n\r\n    activate :deploy do |deploy|\r\n      deploy.method = :git\r\n    end\r\n\r\nBy default this will deploy to the `gh-pages` branch on the `origin`\r\nremote. The `build` directory will become a git repo.\r\n\r\n**These settings are optional.**\r\n\r\nTo use a particular remote, add:\r\n\r\n      deploy.remote = \"some-other-remote-name\"\r\n\r\nDefault is `origin`. This can be a remote name or a git url.\r\n\r\nIf you use a remote name, you must first add it using `git remote\r\nadd`. Run `git remote -v` to see a list of possible remote names. If\r\nyou use a git url, it must end with '.git'.\r\n\r\nTo use a particular branch, add:\r\n\r\n      deploy.branch = \"some-other-branch-name\"\r\n\r\nDefault is `gh-pages`. This branch will be created on the remote if it\r\ndoesn't already exist.\r\n\r\n## Step 3c - FTP setup\r\n\r\n**These settings are required.**\r\n\r\nEdit `config.rb`, and add:\r\n\r\n    activate :deploy do |deploy|\r\n      deploy.method = :ftp\r\n      deploy.host = \"ftp.example.com\"\r\n      deploy.user = \"tvaughan\"\r\n      deploy.password = \"secret\"\r\n      deploy.path = \"/srv/www/site\"\r\n    end\r\n\r\nAdjust these values accordingly.\r\n\r\n## Step 3d - SFTP setup\r\n\r\n**These settings are required.**\r\n\r\nEdit `config.rb`, and add:\r\n\r\n    activate :deploy do |deploy|\r\n      deploy.method = :sftp\r\n      deploy.host = \"sftp.example.com\"\r\n      deploy.user = \"tvaughan\"\r\n      deploy.password = \"secret\"\r\n      deploy.path = \"/srv/www/site\"\r\n    end\r\n\r\nAdjust these values accordingly.\r\n\r\n## Step 4\r\n\r\n    middleman build [--clean]\r\n    middleman deploy [--build-before]\r\n\r\nTo run `middleman build` before `middleman deploy`, add:\r\n\r\n    deploy.build_before = true\r\n\r\nDefault is `false`.\r\n\r\n## BREAKING CHANGES\r\n\r\n * v0.1.0\r\n\r\n   * Removed the `--clean` command-line option. This option only applied\r\n   to the rsync deploy method. The idea going forward is that\r\n   command-line options must apply to all deploy methods. Options that\r\n   are specific to a deploy method will only be available in\r\n   `config.rb`.\r\n\r\n   * Removed `deploy` from the `after_build` hook. This caused a\r\n   `deploy` to be run each time `build` was called. This workflow never\r\n   made sense. `deploy` was added to the `after_build` hook simply\r\n   because it was available.\r\n\r\n## NOTES\r\n\r\nInspired by the rsync task in\r\n[Octopress](https://github.com/imathis/octopress).\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}